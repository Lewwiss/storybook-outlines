chrome.runtime.onMessage.addListener((request) => {
    const tagStyles = {
        "BODY": "1px solid #2980b9",
        "ARTICLE": "1px solid #3498db",
        "NAV": "1px solid #0088c3",
        "ASIDE": "1px solid #33a0ce",
        "SECTION": "1px solid #66b8da",
        "HEADER": "1px solid #99cfe7",
        "FOOTER": "1px solid #cce7f3",
        "H1": "1px solid #162544",
        "H2": "1px solid #314e6e",
        "H3": "1px solid #3e5e85",
        "H4": "1px solid #449baf",
        "H5": "1px solid #c7d1cb",
        "H6": "1px solid #4371d0",
        "MAIN": "1px solid #2f4f90",
        "ADDRESS": "1px solid #1a2c51",
        "DIV": "1px solid #036cdb",
        "P": "1px solid #ac050b",
        "HR": "1px solid #ff063f",
        "PRE": "1px solid #850440",
        "BLOCKQUOTE": "1px solid #f1b8e7",
        "OL": "1px solid #ff050c",
        "UL": "1px solid #d90416",
        "LI": "1px solid #d90416",
        "DL": "1px solid #fd3427",
        "DT": "1px solid #ff0043",
        "DD": "1px solid #e80174",
        "FIGURE": "1px solid #ff00bb",
        "FIGCAPTION": "1px solid #bf0032",
        "TABLE": "1px solid #00cc99",
        "CAPTION": "1px solid #37ffc4",
        "THEAD": "1px solid #98daca",
        "TBODY": "1px solid #64a7a0",
        "TFOOT": "1px solid #22746b",
        "TR": "1px solid #86c0b2",
        "TH": "1px solid #a1e7d6",
        "TD": "1px solid #3f5a54",
        "COL": "1px solid #6c9a8f",
        "COLGROUP": "1px solid #6c9a9d",
        "BUTTON": "1px solid #da8301",
        "DATALIST": "1px solid #c06000",
        "FIELDSET": "1px solid #d95100",
        "FORM": "1px solid #d23600",
        "INPUT": "1px solid #fca600",
        "KEYGEN": "1px solid #b31e00",
        "LABEL": "1px solid #ee8900",
        "LEGEND": "1px solid #de6d00",
        "METER": "1px solid #e8630c",
        "OPTGROUP": "1px solid #b33600",
        "OPTION": "1px solid #ff8a00",
        "OUTPUT": "1px solid #ff9619",
        "PROGRESS": "1px solid #e57c00",
        "SELECT": "1px solid #e26e0f",
        "TEXTAREA": "1px solid #cc5400",
        "DETAILS": "1px solid #33848f",
        "SUMMARY": "1px solid #60a1a6",
        "COMMAND": "1px solid #438da1",
        "MENU": "1px solid #449da6",
        "DEL": "1px solid #bf0000",
        "INS": "1px solid #400000",
        "IMG": "1px solid #22746b",
        "IFRAME": "1px solid #64a7a0",
        "EMBED": "1px solid #98daca",
        "OBJECT": "1px solid #00cc99",
        "PARAM": "1px solid #37ffc4",
        "VIDEO": "1px solid #6ee866",
        "AUDIO": "1px solid #027353",
        "SOURCE": "1px solid #012426",
        "CANVAS": "1px solid #a2f570",
        "TRACK": "1px solid #59a600",
        "MAP": "1px solid #7be500",
        "AREA": "1px solid #305900",
        "A": "1px solid #ff62ab",
        "EM": "1px solid #800b41",
        "STRONG": "1px solid #ff1583",
        "I": "1px solid #803156",
        "B": "1px solid #cc1169",
        "U": "1px solid #ff0430",
        "S": "1px solid #f805e3",
        "SMALL": "1px solid #d107b2",
        "ABBR": "1px solid #4a0263",
        "Q": "1px solid #240018",
        "CITE": "1px solid #64003c",
        "DFN": "1px solid #b4005a",
        "SUB": "1px solid #dba0c8",
        "SUP": "1px solid #cc0256",
        "TIME": "1px solid #d6606d",
        "CODE": "1px solid #e04251",
        "KBD": "1px solid #5e001f",
        "SAMP": "1px solid #9c0033",
        "VAR": "1px solid #d90047",
        "MARK": "1px solid #ff0053",
        "BDI": "1px solid #bf3668",
        "BDO": "1px solid #6f1400",
        "RUBY": "1px solid #ff7b93",
        "RT": "1px solid #ff2f54",
        "RP": "1px solid #803e49",
        "SPAN": "1px solid #cc2643",
        "BR": "1px solid #db687d",
        "WBR": "1px solid #db175b"
    };
      
    const tags = document.body.querySelectorAll(Object.keys(tagStyles));

    tags.forEach(tag => {
        if (!request.active) {
            tag.style.outline = tagStyles[tag.nodeName];
        } else {
            tag.style.outline = '';
        }
    });

    chrome.storage.local.set({"active": !request.active});
});
